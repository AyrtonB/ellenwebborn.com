---
title: Easily simulate thousands of single-case designs
author: James
date: '2018-06-13'
draft: true
slug: Easily-simulate-thousands-of-single-case-designs
categories: []
tags:
  - behavioral observation
  - simulation
  - single-case research
header:
  caption: ''
  image: ''
---

Earlier this month, I taught at the [Summer Research Training Institute on Single-Case Intervention Design and Analysis workshop](https://scdinstitute2018.com/), sponsored by the Institute of Education Sciences' National Center for Special Education Research. 
While I was there, I shared [a web-app for simulating data from a single-case design](https://jepusto.shinyapps.io/ARPsimulator/). 
This is a tool that I put together a couple of years ago as part of my [ARPobservation R package](/software/arpobservation/), but haven't ever really publicized or done anything formal with.
It provides an easy way to simulate "mock" data from a single-case design where the dependent variable is measured using systematic direct observation of behavior.
The simulated data can be viewed in the form of a graph or downloaded as a csv file.
And it's quite fast---simulating 1000's of mock single-case designs takes only a few seconds.
The tool also provides a visualization of the distribution of effect size estimates that you could anticipate observing in a single-case design, given a set of assumptions about how the dependent variable is measured and how it changes in response to treatment. 

# Demo

Here's an example of the sort of data that the tool generates and the assumptions it asks you to make. 
Say that you're interested in evaluating the effect of a Social Stories intervention on the behavior of a child with autism spectrum disorder, and that you plan to use a treatment reversal design.
Your primary dependent variable is inappropriate play behavior, measured using frequency counts over ten minute observation sessions.  
The initial baseline and treatment phases will be 7 sessions long.
At baseline, the child engages in inappropriate play at a rate of about 0.8 per minute. 
You anticipate that the intervention could reduce inappropriate play by as much as 90% from baseline. 
Enter all of these details and assumptions into the simulator, and it will generate a graph like this:

![](/img/Crozier-Tincani-simulated-data-A.png)

Hit the "Simulate!" button again and you might get something like this:

![](/img/Crozier-Tincani-simulated-data-B.png)

Or one of these:

![](/img/Crozier-Tincani-simulated-data-C.png)
![](/img/Crozier-Tincani-simulated-data-A.png)
![](/img/Crozier-Tincani-simulated-data-A.png)

![](/img/Crozier-Tincani-simulated-data-D.png)

![](/img/Crozier-Tincani-simulated-data-E.png)

All of the above graphs were generated from the same hypothetical model---the variation in the  clarity and strength of the functional relation is due to random error alone. 
The simulator can also produce graphs that show multiple realizations of the data-generating process. Here's one with five replications:

![](/img/Crozier-Tincani-simulated-data-5.png)

And here's the same figure, but with trend lines added:

![](/img/Crozier-Tincani-simulated-data-trend.png)

The trend lines represent the overall average level of the dependent variable during each session, across infinitely replications of the study.
The variability around the trend line provides a sense of the extent of random error in the measurements of the dependent variable. 

I think it's a rather interesting exercise to try and draw inferences based on visual inspection of randomly generated graphs like this---particularly because it forces you to grapple with random measurement error in a way that using only real data (or only hand-drawn mock data) doesn't allow.
It seems like it could really help a visual analyst to calibrate their interpretations of single-case graphs with visually apparent time trends, outliers, etc.

# Use cases

So far, this tool is really only a toy---something that I've puttered with off and on for a while, but never developed or applied for any substantive purpose.
However, it occurs to me that it (or something similar to it) might have a number of purposes related to planning single-case studies, studying the process of visual inspection, or training single-case researchers. 

When I originally put the tool together, the leading case I imagined was to use the tool to help researchers make principled decisions about how to measure dependent variables in single-case designs. 
By using the tool to simulate hypothetical single-case studies, a researcher would be able to experiment with different measurement strategies---such as using partial interval recording instead of continuous duration recording, using shorter or longer observation sessions, or using short or longer baseline phases---before collecting data on real-life behavior in the field. 
I'm not sure if this is something that well-trained single-case researchers would actually find helpful, but it seems like it might help a novice (like me!) to temper one's expectations or to move towards a more reliable measurement system. 

There's been quite a bit of research examining the reliability and error rates of inferences based on visual inspection (see Chapter 3 of [Kratochwill & Levin, 2014](http://dx.doi.org/10.1037/14376-000) for a review of some of this literature). 
Some of this work has compared the inferences drawn by novices versus experts or by un-aided visual inspection versus visual inspection supplemented with graphical guides (like trend lines).
But there are many other factors that could be investigated too, such as phase lengths (this could help to better justify the WWC single-case design standards around minimum phase lengths), use of different measurement systems, or use of different design elements on single-case graphs (can we get some color on these graphs, folks?!? And stop plotting 14 different dependent variables on the same graph?!?). 
The simulator would be an easy way to generate the stimuli (probably LOTS of graphs) one would need to do this work. 

A closely related use-case is to generate stimuli for training researchers to do systematic visual inspection. www.singlecase.org

# Future directions

A number of future directions for this project have crossed my mind:

* Currently, the outcome data are simulated as independent across observation sessions (given the true time trend). It wouldn't be too hard to add a further option to generate auto-correlated data, although this would further increase the complexity of the model. Perhaps there would be a way to add this as an "advanced" option that would be concealed unless the user asks for it ("Are you Realy Sure you want to go down this rabbit hole?"). So far, I have avoided adding these features because I'm not sure what reasonable defaults would be.
* Algorithms for randomized start-times and/or phase lengths. 
* Between-case variability.
* Validation of the model using empirical data on different classes of behavior.

At the moment I have no plans to implement any of these unless there's a reasonably focused need (sadly, I don't have time to putter and putz to the same extent that I used to).
If you (dear reader) would be interested in helping to pursue any of these directions, or if you have even better ideas for how to make use of this tool, I would love to hear from you
